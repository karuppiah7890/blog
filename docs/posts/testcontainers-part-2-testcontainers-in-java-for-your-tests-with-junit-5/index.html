<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Testcontainers Part 2: Testcontainers in Java for your tests with Junit 5 | Karuppiah&#39;s Blog</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.78.2" />
    
    
      <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
    

    
    
      <link href="/blog/dist/css/app.1cb140d8ba31d5b2f1114537dd04802a.css" rel="stylesheet">
    

    

    
      
    

    
    
    <meta property="og:title" content="Testcontainers Part 2: Testcontainers in Java for your tests with Junit 5" />
<meta property="og:description" content="Testcontainers is a library that helps you run Docker containers to run components for your integration tests. There&rsquo;s a Java library and there are libraries in other languages too.
I wrote a part 1 blog post about integration tests and an introduction to Testcontainers. It didn&rsquo;t have any code examples though.
A lot of the docs on the websites are really good for you to get started. I&rsquo;m still writing this and upcoming posts to give a bit more details based on the experience from using Testcontainers in our project." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://karuppiah7890.github.io/blog/posts/testcontainers-part-2-testcontainers-in-java-for-your-tests-with-junit-5/" />
<meta property="article:published_time" content="2020-12-20T13:04:35+05:30" />
<meta property="article:modified_time" content="2020-12-20T13:04:35+05:30" />
<meta itemprop="name" content="Testcontainers Part 2: Testcontainers in Java for your tests with Junit 5">
<meta itemprop="description" content="Testcontainers is a library that helps you run Docker containers to run components for your integration tests. There&rsquo;s a Java library and there are libraries in other languages too.
I wrote a part 1 blog post about integration tests and an introduction to Testcontainers. It didn&rsquo;t have any code examples though.
A lot of the docs on the websites are really good for you to get started. I&rsquo;m still writing this and upcoming posts to give a bit more details based on the experience from using Testcontainers in our project.">
<meta itemprop="datePublished" content="2020-12-20T13:04:35+05:30" />
<meta itemprop="dateModified" content="2020-12-20T13:04:35+05:30" />
<meta itemprop="wordCount" content="3414">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Testcontainers Part 2: Testcontainers in Java for your tests with Junit 5"/>
<meta name="twitter:description" content="Testcontainers is a library that helps you run Docker containers to run components for your integration tests. There&rsquo;s a Java library and there are libraries in other languages too.
I wrote a part 1 blog post about integration tests and an introduction to Testcontainers. It didn&rsquo;t have any code examples though.
A lot of the docs on the websites are really good for you to get started. I&rsquo;m still writing this and upcoming posts to give a bit more details based on the experience from using Testcontainers in our project."/>

      
    
  </head>

  <body class="ma0 avenir bg-near-white production">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://karuppiah7890.github.io/blog" class="f3 fw2 hover-white no-underline white-90 dib">
      Karuppiah&#39;s Blog
    </a>
    <div class="flex-l items-center">
      

      
      




<a href="https://twitter.com/karuppiah7890" target="_blank" class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel="noopener" aria-label="follow on Twitter——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>



<a href="https://www.youtube.com/channel/UC8RUp-TYJUhTzgAgPqDKRRg" target="_blank" class="link-transition youtube link dib z-999 pt3 pt0-l mr1" title="Youtube link" rel="noopener" aria-label="follow on Youtube——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M42.527,41.34c-0.278,0-0.478,0.078-0.6,0.244  c-0.121,0.156-0.18,0.424-0.18,0.796v0.896h1.543V42.38c0-0.372-0.062-0.64-0.185-0.796C42.989,41.418,42.792,41.34,42.527,41.34z   M36.509,41.309c0.234,0,0.417,0.076,0.544,0.23c0.123,0.155,0.185,0.383,0.185,0.682v4.584c0,0.286-0.053,0.487-0.153,0.611  c-0.1,0.127-0.256,0.189-0.47,0.189c-0.148,0-0.287-0.033-0.421-0.096c-0.135-0.062-0.274-0.171-0.415-0.313v-5.531  c0.119-0.122,0.239-0.213,0.36-0.271C36.26,41.335,36.383,41.309,36.509,41.309z M41.748,44.658v1.672  c0,0.468,0.057,0.792,0.17,0.974c0.118,0.181,0.313,0.269,0.592,0.269c0.289,0,0.491-0.076,0.606-0.229  c0.114-0.153,0.175-0.489,0.175-1.013v-0.405h1.795v0.456c0,0.911-0.217,1.596-0.657,2.059c-0.435,0.459-1.089,0.687-1.958,0.687  c-0.781,0-1.398-0.242-1.847-0.731c-0.448-0.486-0.676-1.157-0.676-2.014v-3.986c0-0.768,0.249-1.398,0.742-1.882  c0.493-0.484,1.128-0.727,1.911-0.727c0.799,0,1.413,0.225,1.843,0.674c0.429,0.448,0.642,1.093,0.642,1.935v2.264H41.748z   M38.623,48.495c-0.271,0.336-0.669,0.501-1.187,0.501c-0.343,0-0.646-0.062-0.912-0.192c-0.267-0.129-0.519-0.327-0.746-0.601  v0.681h-1.764V36.852h1.764v3.875c0.237-0.27,0.485-0.478,0.748-0.616c0.267-0.143,0.534-0.212,0.805-0.212  c0.554,0,0.975,0.189,1.265,0.565c0.294,0.379,0.438,0.933,0.438,1.66v4.926C39.034,47.678,38.897,48.159,38.623,48.495z   M30.958,48.884v-0.976c-0.325,0.361-0.658,0.636-1.009,0.822c-0.349,0.191-0.686,0.282-1.014,0.282  c-0.405,0-0.705-0.129-0.913-0.396c-0.201-0.266-0.305-0.658-0.305-1.189v-7.422h1.744v6.809c0,0.211,0.037,0.362,0.107,0.457  c0.077,0.095,0.196,0.141,0.358,0.141c0.128,0,0.292-0.062,0.488-0.188c0.197-0.125,0.375-0.283,0.542-0.475v-6.744h1.744v8.878  H30.958z M24.916,38.6v10.284h-1.968V38.6h-2.034v-1.748h6.036V38.6H24.916z M32.994,32.978c0-0.001,12.08,0.018,13.514,1.45  c1.439,1.435,1.455,8.514,1.455,8.555c0,0-0.012,7.117-1.455,8.556C45.074,52.969,32.994,53,32.994,53s-12.079-0.031-13.516-1.462  c-1.438-1.435-1.441-8.502-1.441-8.556c0-0.041,0.004-7.12,1.441-8.555C20.916,32.996,32.994,32.977,32.994,32.978z M42.52,29.255  h-1.966v-1.08c-0.358,0.397-0.736,0.703-1.13,0.909c-0.392,0.208-0.771,0.312-1.14,0.312c-0.458,0-0.797-0.146-1.027-0.437  c-0.229-0.291-0.345-0.727-0.345-1.311v-8.172h1.962v7.497c0,0.231,0.045,0.399,0.127,0.502c0.08,0.104,0.216,0.156,0.399,0.156  c0.143,0,0.327-0.069,0.548-0.206c0.22-0.137,0.423-0.312,0.605-0.527v-7.422h1.966V29.255z M31.847,27.588  c0.139,0.147,0.339,0.219,0.6,0.219c0.266,0,0.476-0.075,0.634-0.223c0.157-0.152,0.235-0.358,0.235-0.618v-5.327  c0-0.214-0.08-0.387-0.241-0.519c-0.16-0.131-0.37-0.196-0.628-0.196c-0.241,0-0.435,0.065-0.586,0.196  c-0.148,0.132-0.225,0.305-0.225,0.519v5.327C31.636,27.233,31.708,27.439,31.847,27.588z M30.408,19.903  c0.528-0.449,1.241-0.674,2.132-0.674c0.812,0,1.48,0.237,2.001,0.711c0.517,0.473,0.777,1.083,0.777,1.828v5.051  c0,0.836-0.255,1.491-0.762,1.968c-0.513,0.476-1.212,0.714-2.106,0.714c-0.858,0-1.547-0.246-2.064-0.736  c-0.513-0.492-0.772-1.152-0.772-1.983v-5.068C29.613,20.954,29.877,20.351,30.408,19.903z M24.262,16h-2.229l2.634,8.003v5.252  h2.213v-5.5L29.454,16h-2.25l-1.366,5.298h-0.139L24.262,16z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30  S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>



<a href="https://github.com/karuppiah7890" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>







    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=https://karuppiah7890.github.io/blog/posts/testcontainers-part-2-testcontainers-in-java-for-your-tests-with-junit-5/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=https://karuppiah7890.github.io/blog/posts/testcontainers-part-2-testcontainers-in-java-for-your-tests-with-junit-5/&amp;text=Testcontainers%20Part%202:%20Testcontainers%20in%20Java%20for%20your%20tests%20with%20Junit%205" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://karuppiah7890.github.io/blog/posts/testcontainers-part-2-testcontainers-in-java-for-your-tests-with-junit-5/&amp;title=Testcontainers%20Part%202:%20Testcontainers%20in%20Java%20for%20your%20tests%20with%20Junit%205" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>


      <h1 class="f1 athelas mt3 mb1">Testcontainers Part 2: Testcontainers in Java for your tests with Junit 5</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2020-12-20T13:04:35&#43;05:30">December 20, 2020</time>

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>Testcontainers is a library that helps you run Docker containers to run
components for your integration tests. There&rsquo;s a Java library and there are
libraries in other languages too.</p>
<p>I wrote a <a href="https://karuppiah7890.github.io/blog/posts/testcontainers-part-1-an-introduction-to-a-new-way-of-integration-testing/">part 1 blog post</a>
about integration tests and an introduction to Testcontainers. It didn&rsquo;t have
any code examples though.</p>
<p>A lot of the docs on the websites are really good for you to get started. I&rsquo;m
still writing this and upcoming posts to give a bit more details based on the
experience from using Testcontainers in our project. If you are new to
Testcontainers, I&rsquo;m sure you will have at least a few takeaways from this blog
post :)</p>
<p>In this post I&rsquo;ll be focussing on some code examples with some sample use cases.
You can find all the code examples can be found in my
<a href="https://github.com/karuppiah7890/testcontainers-demo">testcontainers-demo GitHub repo</a>.
This post will only focus on Java language and just plain Java. I&rsquo;ll cover how
to use Testcontainers particularly with Spring Boot framework in another
article, as I know many use Spring Boot and I use it too. It&rsquo;s a pretty
common use case.</p>
<p>Now, let&rsquo;s get started! Testcontainers Java is an Open Source library.</p>
<p><a href="https://github.com/testcontainers/testcontainers-java/">GitHub source code repository for Testcontainers Java</a></p>
<p><a href="https://testcontainers.org">Testcontainers Java website</a></p>
<p>Personally, Testcontainers seems like an easy to use library for me. It can
easily integrate with your test code if you use Junit, as it has integration
for Junit 4 and Junit 5. So, if you are using those, which you probably are,
good for you! A full list of integrations with testing frameworks can be found
in the Testcontainers website.</p>
<p>I&rsquo;ll be showing code examples with Junit 5 only though.</p>
<p>Testcontainers comes built-in with a lot of default set of components which you
can run easily. For example - PostgreSQL, Kafka, Nginx etc. Testcontainers
calls this as &ldquo;Modules&rdquo;. Let&rsquo;s start by using one such module</p>
<h2 id="using-built-in-modules-from-testcontainers-to-run-components">Using Built-in Modules from Testcontainers to run components</h2>
<p>Let&rsquo;s say I want to run a PostgreSQL while running my integration tests so that
I can test my code which accesses PostgreSQL. How would I go about doing that?</p>
<p>Since may not be using PostgreSQL, I don&rsquo;t want to get into the details of how
I wrote code related to it. So I&rsquo;ll just give an overview and show how I test
it :)</p>
<p>Let me first write some code which accesses PostgreSQL. Just for the sake of an
example, I&rsquo;m going to be running a simple SQL query which can run in any
database</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">select</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">as</span> some_value;
</code></pre></div><p>Let&rsquo;s see the Java code for this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> testcontainers.demo<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.sql.*<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.Properties<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SqlDataStore</span> <span style="color:#f92672">{</span>
    String jdbcUrl<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String username<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String password<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">SqlDataStore</span><span style="color:#f92672">(</span>String jdbcUrl<span style="color:#f92672">,</span> String username<span style="color:#f92672">,</span> String password<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">jdbcUrl</span> <span style="color:#f92672">=</span> jdbcUrl<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">username</span> <span style="color:#f92672">=</span> username<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">password</span> <span style="color:#f92672">=</span> password<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">runDummyQuery</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        Properties props <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Properties<span style="color:#f92672">();</span>
        props<span style="color:#f92672">.</span><span style="color:#a6e22e">setProperty</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;user&#34;</span><span style="color:#f92672">,</span> username<span style="color:#f92672">);</span>
        props<span style="color:#f92672">.</span><span style="color:#a6e22e">setProperty</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;password&#34;</span><span style="color:#f92672">,</span> password<span style="color:#f92672">);</span>

        <span style="color:#66d9ef">try</span> <span style="color:#f92672">(</span>Connection conn <span style="color:#f92672">=</span> DriverManager<span style="color:#f92672">.</span><span style="color:#a6e22e">getConnection</span><span style="color:#f92672">(</span>jdbcUrl<span style="color:#f92672">,</span> props<span style="color:#f92672">);</span>
             Statement st <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span><span style="color:#a6e22e">createStatement</span><span style="color:#f92672">();)</span> <span style="color:#f92672">{</span>
            ResultSet rs <span style="color:#f92672">=</span> st<span style="color:#f92672">.</span><span style="color:#a6e22e">executeQuery</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SELECT 1 as some_value&#34;</span><span style="color:#f92672">);</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>rs<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">return</span> rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getInt</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>
            rs<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> 0<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><p>Let&rsquo;s also see the test code I wrote for this, assuming that Postgres Server
is running</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> testcontainers.demo<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.junit.jupiter.api.Test<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.sql.SQLException<span style="color:#f92672">;</span>

<span style="color:#f92672">import static</span> org.junit.jupiter.api.Assertions.assertEquals<span style="color:#f92672">;</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SqlDataStoreTest</span> <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">runDummyQuery</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        SqlDataStore sqlDataStore <span style="color:#f92672">=</span>
                <span style="color:#66d9ef">new</span> SqlDataStore<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;jdbc:postgresql://localhost/postgres&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;karuppiahn&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">int</span> result <span style="color:#f92672">=</span> sqlDataStore<span style="color:#f92672">.</span><span style="color:#a6e22e">runDummyQuery</span><span style="color:#f92672">();</span>
        assertEquals<span style="color:#f92672">(</span>1<span style="color:#f92672">,</span> result<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>I had Postgres Server running in my local using
<a href="https://postgresapp.com/">PostgresApp</a> for Mac OS which had a default
database named <code>postgres</code>. So the above test passed.</p>
<p>Also notice how I&rsquo;m able to inject the configuration for which DB to connect to
using the JDBC URL / Connection URL. This is useful so that I can have my DB
running anywhere and still the run the test. Here the connection URL is hard
coded but it could also be fetched from a config file / from command line
arguments / environment variables. This also helps you to have different
database for test and the main application. In the test, you pass different
config and connect to different database.</p>
<p>Now, how do I run the same test using Testcontainers? By running Postgres in
a container.</p>
<p>To get started, you need the Testcontainers core library. You can find it here
on Maven Central</p>
<p><a href="https://search.maven.org/artifact/org.testcontainers/testcontainers">https://search.maven.org/artifact/org.testcontainers/testcontainers</a></p>
<p>You can get the latest version. As of this writing, the latest version is
<code>1.15.1</code></p>
<p>Apart from the core library, you also need a library for the Junit 5
integration. You can find that here on Maven Central</p>
<p><a href="https://search.maven.org/artifact/org.testcontainers/junit-jupiter">https://search.maven.org/artifact/org.testcontainers/junit-jupiter</a></p>
<p>And to run Postgres in a container using Testcontainers, you also need the
Postgres Testcontainers Module which you can find here on Maven Central</p>
<p><a href="https://search.maven.org/artifact/org.testcontainers/postgresql">https://search.maven.org/artifact/org.testcontainers/postgresql</a></p>
<p>The versions are the same across all the libraries, depending upon the core
library version. Since I&rsquo;m using gradle, I&rsquo;m adding this to the project</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy"><span style="color:#66d9ef">def</span> testcontainers_version <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1.15.1&#34;</span>

testImplementation <span style="color:#e6db74">&#34;org.testcontainers:testcontainers:$testcontainers_version&#34;</span>
testImplementation <span style="color:#e6db74">&#34;org.testcontainers:junit-jupiter:$testcontainers_version&#34;</span>
testImplementation <span style="color:#e6db74">&#34;org.testcontainers:postgresql:$testcontainers_version&#34;</span>
</code></pre></div><p>With that, let&rsquo;s get to the code now! :) The source code remains the same. Only
the test code is going to change.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> testcontainers.demo<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.junit.jupiter.api.Test<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.testcontainers.containers.PostgreSQLContainer<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.testcontainers.junit.jupiter.Container<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.testcontainers.junit.jupiter.Testcontainers<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.sql.SQLException<span style="color:#f92672">;</span>

<span style="color:#f92672">import static</span> org.junit.jupiter.api.Assertions.assertEquals<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@Testcontainers</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SqlDataStoreTest</span> <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Container</span>
    PostgreSQLContainer postgreSQLContainer <span style="color:#f92672">=</span>
            <span style="color:#66d9ef">new</span> PostgreSQLContainer<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;postgres:13-alpine&#34;</span><span style="color:#f92672">);</span>

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">runDummyQuery</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        SqlDataStore sqlDataStore <span style="color:#f92672">=</span>
                <span style="color:#66d9ef">new</span> SqlDataStore<span style="color:#f92672">(</span>postgreSQLContainer<span style="color:#f92672">.</span><span style="color:#a6e22e">getJdbcUrl</span><span style="color:#f92672">(),</span>
                        postgreSQLContainer<span style="color:#f92672">.</span><span style="color:#a6e22e">getUsername</span><span style="color:#f92672">(),</span>
                        postgreSQLContainer<span style="color:#f92672">.</span><span style="color:#a6e22e">getPassword</span><span style="color:#f92672">());</span>
        <span style="color:#66d9ef">int</span> result <span style="color:#f92672">=</span> sqlDataStore<span style="color:#f92672">.</span><span style="color:#a6e22e">runDummyQuery</span><span style="color:#f92672">();</span>
        assertEquals<span style="color:#f92672">(</span>1<span style="color:#f92672">,</span> result<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Ensure you have Docker Engine up and running. Check it out by running some
<code>docker</code> command like <code>docker ps</code>. After ensuring that Docker is running, you
can then run the tests and see how it runs and passes.</p>
<p>If Docker is not running some weird short error will popup and with full
stacktrace it will be clear that the reason for failure was that the Docker
Engine was not running. So, ensure that your Docker Engine is running.</p>
<p>Now, let&rsquo;s get to the code. You can see how we have used some annotations from
Testcontainers library. What we have done over here is - mentioned the
<code>@TestContainers</code> annotation which is a JUnit Jupiter Extension which helps
with automatic startup and stop of containers.</p>
<p><code>@TestContainers</code> and <code>@Container</code> annotations go hand in hand.
<code>@TestContainer</code> manages the containers annotated with <code>@Container</code>. What I
mean by managing is - starting the container, stopping the container. When does
this happen? This depends on how you declare the container variable - instance
or static variable.</p>
<p>If it&rsquo;s static, a single container is started and shared across all test
methods and then stopped.</p>
<p>If it&rsquo;s an instance variable, for each test method, a new container is created
for the test execution and once the test method is done executing, the
container is stopped and cleaned up.</p>
<p>You can find a lot of details in the documentation of these annotations :)</p>
<p>What&rsquo;s happening over here is - before our test runs, a Postgres Docker
container is started, and then the tests are run.</p>
<p>The usual assumption is that - since your tests are integration tests and need
some components, for example Postgres in this case, the containers running these
components must be started before the test runs so that the test execution can
access the component.</p>
<p>Also, you can see how easy it is to run a Postgres Container. I just had to
use the Class provided by the Testcontainers Postgres Module, and provide a
Docker image name. Actually it also has some default Docker image name, but it&rsquo;s
advised to explicitly provide a value. In this case, I&rsquo;m using PostgreSQL v13.</p>
<p>I have also used an alpine OS based Docker image to keep the Docker image size
small so that not much disk space is needed to store it. Also, it makes it easy
to download it fast in case the Docker image is not present in the Docker
engine.</p>
<p>I would recommend you to use Docker images which are small size and still work
and get things done. It&rsquo;s a pretty standard practice and recommendation :)</p>
<p>Apart from Docker image size, you can also ensure that the software in the
Docker image has a good startup time to start the software when the container
starts. In this case it&rsquo;s the startup time of a Postgres Server. I&rsquo;m mentioning
this as your tests depend on this Docker container. Only if your Docker
container&rsquo;s startup time is fast, only then your integration tests can run soon!
Everyone wants their tests to run soon. Also, it would be good to have fast
shutdown time too, so that the container can be cleaned up soon. In that front,
Postgres Servers start and stop pretty fast! :)</p>
<p>When you run the test with Testcontainers, you can also check when containers
are created and what containers are created. You will notice that apart from the
components you need, in this case it&rsquo;s Postgres, Testcontainers will also run
another container using an image called
<a href="https://hub.docker.com/r/testcontainers/ryuk"><code>testcontainers/ryuk</code></a> for some
container management purposes. So, you will notice two Docker containers - one
for Postgres, another for ryuk. You can check this out by running a command like
the below when running the tests</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ watch docker ps
</code></pre></div><p>You have seen the basic code for Testcontainers and also the running of a test
with it. Another part of the code we didn&rsquo;t discuss is - the DB config. The
container variable has getter methods to get the config like username, password
and even the JDBC URL which contains the hostname, port and even the DB name.
So, it&rsquo;s pretty easy to inject that config to your test code!</p>
<p>Testcontainers takes care of exposing the container at a random port in the
host machine and also gives you the hostname in a programmatic manner, so you
don&rsquo;t have to hard code it as <code>localhost</code>, as sometimes, that might not be the
right value depending on the environment - local machine, Continuous Integration
pipeline (CI).</p>
<p>In the case of Postgres container, this is all hidden behind
<code>postgreSQLContainer.getJdbcUrl()</code>, which contains the hostname and the random
port. The random port number helps with no clashing of port numbers with any
other existing applications running in the host machine. It has few more
networking features, which you can find in the Testcontainers website in the
<a href="https://www.testcontainers.org/features/networking/">networking section</a>, and
we will also look at some in the next section.</p>
<p>If you want to run the DB with some specific config - for example say with a
specific username and password, or with a specific DB name, you can do it like
this</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Container</span>
PostgreSQLContainer postgreSQLContainer <span style="color:#f92672">=</span>
    <span style="color:#66d9ef">new</span> PostgreSQLContainer<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;postgres:13-alpine&#34;</span><span style="color:#f92672">)</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">withUsername</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;karuppiah&#34;</span><span style="color:#f92672">)</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">withPassword</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;password&#34;</span><span style="color:#f92672">)</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">withDatabaseName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;random&#34;</span><span style="color:#f92672">);</span>
</code></pre></div><p>Of course you can also use different Postgres version. You can also use
Initialization Scripts - SQL scripts, which will run when the DB starts, like
this</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Container</span>
PostgreSQLContainer<span style="color:#f92672">&lt;?&gt;</span> postgreSQLContainer <span style="color:#f92672">=</span>
    <span style="color:#66d9ef">new</span> PostgreSQLContainer<span style="color:#f92672">&lt;&gt;(</span><span style="color:#e6db74">&#34;postgres:13-alpine&#34;</span><span style="color:#f92672">)</span>
            <span style="color:#f92672">.</span><span style="color:#a6e22e">withUsername</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;karuppiah&#34;</span><span style="color:#f92672">)</span>
            <span style="color:#f92672">.</span><span style="color:#a6e22e">withPassword</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;password&#34;</span><span style="color:#f92672">)</span>
            <span style="color:#f92672">.</span><span style="color:#a6e22e">withDatabaseName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;random&#34;</span><span style="color:#f92672">)</span>
            <span style="color:#f92672">.</span><span style="color:#a6e22e">withInitScript</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;scripts/initialize-stuff.sql&#34;</span><span style="color:#f92672">);</span>
</code></pre></div><p>This was just one example with Postgres component. Similar to this, depending
on the component, you can find similar options to configure the component with
nice methods.</p>
<h2 id="running-components-using-testcontainers-without-built-in-modules">Running components using Testcontainers without built-in Modules</h2>
<p>If Testcontainers provides the component you need in the form of a built-in
Module, I would recommend you to use it. That way you can avoid writing too
much code. Most of the time it should be enough for basic use cases.</p>
<p>Sometimes the component you want to run might not be available in
Testcontainers as a Module, or the features provided by the built-in Module
may not be enough for you. In this case - you can either look for Modules
provided by external libraries to get something up and running soon and not
having to maintain any code. But if you can&rsquo;t find that too, then you have to
write your own. Writing your own Module is not that hard ;) :D Let&rsquo;s see how
to do it!</p>
<p>The Testcontainers library has a Generic Container Module concept, which can run
any Docker Image. Testcontainers also helps you with the networking.</p>
<p>Let&rsquo;s say I have some code which connects to Redis and gets some data. Now I
want to write tests to ensure that the integration with Redis works using
integration tests.</p>
<p>Let&rsquo;s see how the Java code looks like for this Redis code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> testcontainers.demo<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> redis.clients.jedis.Jedis<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RedisBackedCache</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> Jedis jedis<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">RedisBackedCache</span><span style="color:#f92672">(</span>String redisHost<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> port<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">jedis</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Jedis<span style="color:#f92672">(</span>redisHost<span style="color:#f92672">,</span> port<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">put</span><span style="color:#f92672">(</span>String key<span style="color:#f92672">,</span> String value<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> jedis<span style="color:#f92672">.</span><span style="color:#a6e22e">set</span><span style="color:#f92672">(</span>key<span style="color:#f92672">,</span> value<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>String key<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> jedis<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>key<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Now, how do I write a test for this using Testcontainers? I can write it like
this</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> testcontainers.demo<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.junit.jupiter.api.BeforeEach<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.junit.jupiter.api.Test<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.testcontainers.containers.GenericContainer<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.testcontainers.junit.jupiter.Container<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.testcontainers.junit.jupiter.Testcontainers<span style="color:#f92672">;</span>

<span style="color:#f92672">import static</span> org.junit.jupiter.api.Assertions.assertEquals<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@Testcontainers</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RedisBackedCacheIntTestStep</span> <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Container</span>
    <span style="color:#66d9ef">public</span> GenericContainer redis <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> GenericContainer<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;redis:5.0.3-alpine&#34;</span><span style="color:#f92672">)</span>
            <span style="color:#f92672">.</span><span style="color:#a6e22e">withExposedPorts</span><span style="color:#f92672">(</span>6379<span style="color:#f92672">);</span>
    <span style="color:#66d9ef">private</span> RedisBackedCache underTest<span style="color:#f92672">;</span>

    <span style="color:#a6e22e">@BeforeEach</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setUp</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        String address <span style="color:#f92672">=</span> redis<span style="color:#f92672">.</span><span style="color:#a6e22e">getHost</span><span style="color:#f92672">();</span>
        Integer port <span style="color:#f92672">=</span> redis<span style="color:#f92672">.</span><span style="color:#a6e22e">getFirstMappedPort</span><span style="color:#f92672">();</span>

        <span style="color:#75715e">// Now we have an address and port for Redis, no matter where it is running
</span><span style="color:#75715e"></span>        underTest <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> RedisBackedCache<span style="color:#f92672">(</span>address<span style="color:#f92672">,</span> port<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testSimplePutAndGet</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        underTest<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;example&#34;</span><span style="color:#f92672">);</span>

        String retrieved <span style="color:#f92672">=</span> underTest<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
        assertEquals<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;example&#34;</span><span style="color:#f92672">,</span> retrieved<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>You can see how Redis Docker container is used by using <code>GenericContainer</code>. We
are still using the same annotations we used before. Here we also have some
setup code in <code>@BeforeEach</code> instead of the test method itself, which is a bit
different from the setup code we saw previously, but you could do it
differently too.</p>
<p>If you read the code, it&rsquo;s pretty straightforward. You can see how we have
mentioned a Docker image name for the redis Docker image, and exposed ports
using Testcontainers easy to use methods for networking. The ports that I expose
are ports which the application in the container is using, which is <code>6379</code> .
In the setup code you can see how we get the port for the redis connection
config. This port is probably different from <code>6379</code>. Again, Testcontainers
chooses random ports from the host machine and exposes the container through
those ports. Here we say <code>getFirstMappedPort</code> as the Generic Container can be
exposing multiple ports, in this case it&rsquo;s only one. If you have multiple
exposed ports, to get the corresponding host port, you can use <code>getMappedPort</code>.
For example, in this case it would be</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">redis<span style="color:#f92672">.</span><span style="color:#a6e22e">getMappedPort</span><span style="color:#f92672">(</span>6379<span style="color:#f92672">)</span>
</code></pre></div><p>There are more things you can do with all the features I mentioned, like
Networking. You can even do volume mounts. You can check more about what
features you need and what Testcontainers provides. Most probably the features
you need would be present, unless it&rsquo;s a very rare use case.</p>
<p>Now, we have seen how you can use <code>GenericContainer</code> to run any kind of
application inside Docker containers if there&rsquo;s a Docker image for it. Now,
would you do all the Testcontainers setup in each and every test file that you
write? In case you need it among multiple test files. How else can you write
the test in such a way that the Testcontainers test setup code is not repeated
everywhere and is not a hassle and is not bloating up and interfering
readability in the test?</p>
<p>Usually some people might be okay with the duplication in tests. In which case
you can leave the test as is. I&rsquo;m still going to mention how you can think about
different ideas to use Testcontainers by keeping the Testcontainers setup
away from test code.</p>
<h2 id="keeping-testcontainers-setup-in-a-separate-class">Keeping Testcontainers setup in a separate class</h2>
<p>If you have some sort of big setup, you can move the Testcontainers setup to a
separate class and have code like this</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> testcontainers.demo<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.junit.jupiter.api.BeforeEach<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.junit.jupiter.api.Test<span style="color:#f92672">;</span>

<span style="color:#f92672">import static</span> org.junit.jupiter.api.Assertions.assertEquals<span style="color:#f92672">;</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RedisBackedCacheIntTestStepTestSuite</span> <span style="color:#66d9ef">extends</span> RedisContainerTestSuite <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> RedisBackedCache underTest<span style="color:#f92672">;</span>

    <span style="color:#a6e22e">@BeforeEach</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setUp</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        String address <span style="color:#f92672">=</span> redis<span style="color:#f92672">.</span><span style="color:#a6e22e">getHost</span><span style="color:#f92672">();</span>
        Integer port <span style="color:#f92672">=</span> redis<span style="color:#f92672">.</span><span style="color:#a6e22e">getFirstMappedPort</span><span style="color:#f92672">();</span>

        <span style="color:#75715e">// Now we have an address and port for Redis, no matter where it is running
</span><span style="color:#75715e"></span>        underTest <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> RedisBackedCache<span style="color:#f92672">(</span>address<span style="color:#f92672">,</span> port<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testSimplePutAndGet</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        underTest<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;example&#34;</span><span style="color:#f92672">);</span>

        String retrieved <span style="color:#f92672">=</span> underTest<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
        assertEquals<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;example&#34;</span><span style="color:#f92672">,</span> retrieved<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> testcontainers.demo<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.testcontainers.containers.GenericContainer<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.testcontainers.junit.jupiter.Container<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.testcontainers.junit.jupiter.Testcontainers<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@Testcontainers</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RedisContainerTestSuite</span> <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Container</span>
    <span style="color:#66d9ef">public</span> GenericContainer redis <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> GenericContainer<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;redis:5.0.3-alpine&#34;</span><span style="color:#f92672">)</span>
            <span style="color:#f92672">.</span><span style="color:#a6e22e">withExposedPorts</span><span style="color:#f92672">(</span>6379<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>The tests will still work fine :)</p>
<h2 id="using-testcontainers-with-junit-extensions">Using Testcontainers with JUnit Extensions</h2>
<p>I usually try to avoid using inheritance whenever it&rsquo;s not needed, and try to
prefer composition. Also, Java can only support inheriting from one class, so,
I try to use it properly. In this case, a &ldquo;Test is a Redis Container Test
Suite&rdquo; or &ldquo;Test is a Redis Container Test&rdquo; might make sense and hence for the
&ldquo;is a&rdquo; relationship, people might choose inheritance. But it&rsquo;s a bit
unnecessary.</p>
<p>I&rsquo;m going to show a simple example of how you can avoid inheritance and still
have most of the test related code in another place and not put it all in the
tests. This will also help you to reuse your Testcontainers test setup code
when you have a bit more than a few lines.</p>
<p>For simplicity, I&rsquo;m using the Redis example, which is not even a few lines of
code. Ideally, you would do this only when you have lots of lines for setup,
like 10-15 lines or maybe more. Just a ballpark value 😅</p>
<p>As you noticed the title, we are going to look at JUni Extensions. You can use
the concept of
<a href="https://junit.org/junit5/docs/current/user-guide/#extensions">JUnit Extensions</a>
to your favor to help you with this use case.</p>
<p>You can find more about JUnit Extensions and examples in the official docs, this
is just a code example. The official docs also show an example where the
extension is used to run a web server or a database server! So, I guess it&rsquo;s a
pretty common use case for using Extensions.</p>
<p>The test will now look like this</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> testcontainers.demo<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.junit.jupiter.api.BeforeEach<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.junit.jupiter.api.Test<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.junit.jupiter.api.extension.RegisterExtension<span style="color:#f92672">;</span>

<span style="color:#f92672">import static</span> org.junit.jupiter.api.Assertions.assertEquals<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RedisBackedCacheExtensionBasedSetupOne</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> RedisBackedCache underTest<span style="color:#f92672">;</span>

    <span style="color:#a6e22e">@RegisterExtension</span>
    <span style="color:#66d9ef">static</span> RedisExtension redisExtension <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> RedisExtension<span style="color:#f92672">();</span>

    <span style="color:#a6e22e">@BeforeEach</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setUp</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        String address <span style="color:#f92672">=</span> redisExtension<span style="color:#f92672">.</span><span style="color:#a6e22e">getHost</span><span style="color:#f92672">();</span>
        Integer port <span style="color:#f92672">=</span> redisExtension<span style="color:#f92672">.</span><span style="color:#a6e22e">getPort</span><span style="color:#f92672">();</span>

        <span style="color:#75715e">// Now we have an address and port for Redis, no matter where it is running
</span><span style="color:#75715e"></span>        underTest <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> RedisBackedCache<span style="color:#f92672">(</span>address<span style="color:#f92672">,</span> port<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testSimplePutAndGet</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        underTest<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;example&#34;</span><span style="color:#f92672">);</span>

        String retrieved <span style="color:#f92672">=</span> underTest<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
        assertEquals<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;example&#34;</span><span style="color:#f92672">,</span> retrieved<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>The extension will look like this</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> testcontainers.demo<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.junit.jupiter.api.extension.BeforeAllCallback<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.junit.jupiter.api.extension.Extension<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.junit.jupiter.api.extension.ExtensionContext<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RedisExtension</span> <span style="color:#66d9ef">implements</span> Extension<span style="color:#f92672">,</span> BeforeAllCallback <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">final</span> RedisContainer redisContainer <span style="color:#f92672">=</span>
            <span style="color:#66d9ef">new</span> RedisContainer<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;redis:5.0.3-alpine&#34;</span><span style="color:#f92672">);</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">beforeAll</span><span style="color:#f92672">(</span>ExtensionContext context<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        redisContainer<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>

    String <span style="color:#a6e22e">getHost</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> redisContainer<span style="color:#f92672">.</span><span style="color:#a6e22e">getHost</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>

    Integer <span style="color:#a6e22e">getPort</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> redisContainer<span style="color:#f92672">.</span><span style="color:#a6e22e">getPort</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> testcontainers.demo<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.testcontainers.containers.GenericContainer<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RedisContainer</span> <span style="color:#66d9ef">extends</span> GenericContainer<span style="color:#f92672">&lt;</span>RedisContainer<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> REDIS_PORT <span style="color:#f92672">=</span> 6379<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">RedisContainer</span><span style="color:#f92672">(</span>String dockerImageName<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">super</span><span style="color:#f92672">(</span>dockerImageName<span style="color:#f92672">);</span>
        addExposedPort<span style="color:#f92672">(</span>REDIS_PORT<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    Integer <span style="color:#a6e22e">getPort</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">getMappedPort</span><span style="color:#f92672">(</span>REDIS_PORT<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>There are multiple ways to use JUnit Extensions. Here I have used it
programmatically. You could also use it with annotations and configure it with
annotations. But using registering extensions programmatically helps with
getting data like host, port and that data is present inside the extension.</p>
<p>You can also see how the Extension runs before all the tests in this case, and
it runs the container. So, here we are not using any of the Testcontainers
annotations like <code>@TestContainers</code> or <code>@Container</code> to help with the container
startup and stop lifecycle. Instead we manage the startup of container. For
stop, we don&rsquo;t have to do anything. Testcontainers takes care of it.</p>
<p>You could do the same in the form of &ldquo;run container before each test&rdquo; too. For
that you need to implement <code>BeforeEachCallback</code> interface in the extension. It
all depends on your use case - share the same container across all the test
methods vs dedicated container for each test method.</p>
<p>You can also do a lot of customization in this method with respect to the
Container. As we use <code>GenericContainer</code> and extend it to create a
<code>RedisContainer</code>. If you check the code for <code>PostgreSQLContainer</code>, it will look
similar, but with more code 😅 as it needs some more features, and this is a
very simple use case.</p>
<p>So, that&rsquo;s also one way to use TestContainers :)</p>
<h2 id="conclusion">Conclusion</h2>
<p>I would recommend JUnit Extensions way along with specific classes for your
containers instead of using <code>GenericContainer</code>. This is especially useful when
you have more than just two or three lines of code for Testcontainers setup.
This will also help you use the Extension and the Container across multiple
tests. You will also not be limited to use inheritance - as at times, I have
noticed how I get stuck at times because I can only extend one class, and then
end up doing multi level inheritance and it also complicates things
unnecessarily. This is composition and looks way simpler to me :)</p>
<p>But no one way is a silver bullet for all problems. So choose based on your
problem :)</p>
<p>All code examples can be found on my
<a href="https://github.com/karuppiah7890/testcontainers-demo">testcontainers-demo GitHub repo</a></p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "karuppiah-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://karuppiah7890.github.io/blog" >
    &copy;  Karuppiah's Blog 2020 
  </a>
    <div>




<a href="https://twitter.com/karuppiah7890" target="_blank" class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel="noopener" aria-label="follow on Twitter——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>



<a href="https://www.youtube.com/channel/UC8RUp-TYJUhTzgAgPqDKRRg" target="_blank" class="link-transition youtube link dib z-999 pt3 pt0-l mr1" title="Youtube link" rel="noopener" aria-label="follow on Youtube——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M42.527,41.34c-0.278,0-0.478,0.078-0.6,0.244  c-0.121,0.156-0.18,0.424-0.18,0.796v0.896h1.543V42.38c0-0.372-0.062-0.64-0.185-0.796C42.989,41.418,42.792,41.34,42.527,41.34z   M36.509,41.309c0.234,0,0.417,0.076,0.544,0.23c0.123,0.155,0.185,0.383,0.185,0.682v4.584c0,0.286-0.053,0.487-0.153,0.611  c-0.1,0.127-0.256,0.189-0.47,0.189c-0.148,0-0.287-0.033-0.421-0.096c-0.135-0.062-0.274-0.171-0.415-0.313v-5.531  c0.119-0.122,0.239-0.213,0.36-0.271C36.26,41.335,36.383,41.309,36.509,41.309z M41.748,44.658v1.672  c0,0.468,0.057,0.792,0.17,0.974c0.118,0.181,0.313,0.269,0.592,0.269c0.289,0,0.491-0.076,0.606-0.229  c0.114-0.153,0.175-0.489,0.175-1.013v-0.405h1.795v0.456c0,0.911-0.217,1.596-0.657,2.059c-0.435,0.459-1.089,0.687-1.958,0.687  c-0.781,0-1.398-0.242-1.847-0.731c-0.448-0.486-0.676-1.157-0.676-2.014v-3.986c0-0.768,0.249-1.398,0.742-1.882  c0.493-0.484,1.128-0.727,1.911-0.727c0.799,0,1.413,0.225,1.843,0.674c0.429,0.448,0.642,1.093,0.642,1.935v2.264H41.748z   M38.623,48.495c-0.271,0.336-0.669,0.501-1.187,0.501c-0.343,0-0.646-0.062-0.912-0.192c-0.267-0.129-0.519-0.327-0.746-0.601  v0.681h-1.764V36.852h1.764v3.875c0.237-0.27,0.485-0.478,0.748-0.616c0.267-0.143,0.534-0.212,0.805-0.212  c0.554,0,0.975,0.189,1.265,0.565c0.294,0.379,0.438,0.933,0.438,1.66v4.926C39.034,47.678,38.897,48.159,38.623,48.495z   M30.958,48.884v-0.976c-0.325,0.361-0.658,0.636-1.009,0.822c-0.349,0.191-0.686,0.282-1.014,0.282  c-0.405,0-0.705-0.129-0.913-0.396c-0.201-0.266-0.305-0.658-0.305-1.189v-7.422h1.744v6.809c0,0.211,0.037,0.362,0.107,0.457  c0.077,0.095,0.196,0.141,0.358,0.141c0.128,0,0.292-0.062,0.488-0.188c0.197-0.125,0.375-0.283,0.542-0.475v-6.744h1.744v8.878  H30.958z M24.916,38.6v10.284h-1.968V38.6h-2.034v-1.748h6.036V38.6H24.916z M32.994,32.978c0-0.001,12.08,0.018,13.514,1.45  c1.439,1.435,1.455,8.514,1.455,8.555c0,0-0.012,7.117-1.455,8.556C45.074,52.969,32.994,53,32.994,53s-12.079-0.031-13.516-1.462  c-1.438-1.435-1.441-8.502-1.441-8.556c0-0.041,0.004-7.12,1.441-8.555C20.916,32.996,32.994,32.977,32.994,32.978z M42.52,29.255  h-1.966v-1.08c-0.358,0.397-0.736,0.703-1.13,0.909c-0.392,0.208-0.771,0.312-1.14,0.312c-0.458,0-0.797-0.146-1.027-0.437  c-0.229-0.291-0.345-0.727-0.345-1.311v-8.172h1.962v7.497c0,0.231,0.045,0.399,0.127,0.502c0.08,0.104,0.216,0.156,0.399,0.156  c0.143,0,0.327-0.069,0.548-0.206c0.22-0.137,0.423-0.312,0.605-0.527v-7.422h1.966V29.255z M31.847,27.588  c0.139,0.147,0.339,0.219,0.6,0.219c0.266,0,0.476-0.075,0.634-0.223c0.157-0.152,0.235-0.358,0.235-0.618v-5.327  c0-0.214-0.08-0.387-0.241-0.519c-0.16-0.131-0.37-0.196-0.628-0.196c-0.241,0-0.435,0.065-0.586,0.196  c-0.148,0.132-0.225,0.305-0.225,0.519v5.327C31.636,27.233,31.708,27.439,31.847,27.588z M30.408,19.903  c0.528-0.449,1.241-0.674,2.132-0.674c0.812,0,1.48,0.237,2.001,0.711c0.517,0.473,0.777,1.083,0.777,1.828v5.051  c0,0.836-0.255,1.491-0.762,1.968c-0.513,0.476-1.212,0.714-2.106,0.714c-0.858,0-1.547-0.246-2.064-0.736  c-0.513-0.492-0.772-1.152-0.772-1.983v-5.068C29.613,20.954,29.877,20.351,30.408,19.903z M24.262,16h-2.229l2.634,8.003v5.252  h2.213v-5.5L29.454,16h-2.25l-1.366,5.298h-0.139L24.262,16z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30  S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>



<a href="https://github.com/karuppiah7890" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>






</div>
  </div>
</footer>

    

  <script src="/blog/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
